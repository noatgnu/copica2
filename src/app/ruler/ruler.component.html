<div class="modal-header">
  <h3 class="modal-title">Proteomics Ruler</h3>
</div>
<div class="modal-body">
  <div class="alert alert-light">
    <p class="fs-6 text-muted">
      The following is an Javascript implementation of the <i>Proteomic Ruler</i> algorithm from Proteomic Ruler plugin from <a href="https://maxquant.net/perseus/">Perseus</a> based on Histone proteins in the dataset from<br>

      <i>Wiśniewski, J. R., Hein, M. Y., Cox, J. and Mann, M. (2014) A “Proteomic Ruler” for Protein Copy Number and Concentration Estimation without Spike-in Standards. Mol Cell Proteomics 13, 3497–3506.</i>

    </p>
  </div>
  <div class="card">
    <div class="card-body">
      <app-file-input-widget [fileType]="'Processed MS Data'" (readData)="handleData($event)"></app-file-input-widget>
    </div>
  </div>

  <div class="card mt-2">
    <div class="card-body">
      <div class="row">
        <div class="col-3">
          <label>UniProt Accession ID Column</label>
          <select class="form-control" [(ngModel)]="data.rulerFileForm.accessionCol">
            <option *ngFor="let c of columns">
              {{c}}
            </option>
          </select>
        </div>
        <div class="col-3">
          <label>Sample Intensity Columns</label>
          <select multiple class="form-control" [(ngModel)]="data.rulerFileForm.sampleCols">
            <option *ngFor="let c of columns">
              {{c}}
            </option>
          </select>
        </div>
        <div class="col-3">
          <label>Gene Name Column</label>
          <select class="form-control" [(ngModel)]="data.rulerFileForm.geneNameCol">
            <option *ngFor="let c of columns">
              {{c}}
            </option>
          </select>
        </div>
        <div class="col-3">
          <label>Molecular Weight Column</label>
          <select class="form-control" [(ngModel)]="data.rulerFileForm.molecularCol">
            <option *ngFor="let c of columns">
              {{c}}
            </option>
          </select>
        </div>
        <div class="col-3">
          <label>Organism Ploidy</label>
          <input type="number" class="form-control" [(ngModel)]="data.rulerFileForm.ploidy">
        </div>
        <div class="col-3">
          <div class="form-check">
            <input type="checkbox" class="form-check-input" [(ngModel)]="data.rulerFileForm.fetchUniProt">
            <label class="form-check-label">Fetch gene name and molecular weight from UniProt</label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button class="btn btn-primary" (click)="processRuler()">Submit</button>
  <button class="btn btn-secondary">Close</button>
</div>
